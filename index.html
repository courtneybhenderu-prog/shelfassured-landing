<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ShelfAssured – Visibility that Wins Retail</title>
  <meta name="description" content="ShelfAssured gives emerging brands real-time visibility on the shelf — pilot access available." />
  <!-- Force light appearance on mobile UAs that auto-apply dark mode -->
  <meta name="color-scheme" content="light" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet" />
  <!-- Tailwind CDN (runtime) -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: { sans: ["Inter", "system-ui", "sans-serif"] },
          boxShadow: { brand: "0 4px 6px -1px rgba(0,0,0,0.10)" }
        }
      }
    }
  </script>
  <style>
    :root{
      --brand-red: #C62828;
      --brand-red-hover: #B71C1C;
      --brand-gray: #6B7280;
      --brand-gray-hover: #4B5563;
      --brand-gold: #F9A825;
      --brand-brown: #3D342F;
      --bg: #F7F3F0;
      --card: #FCFBF9;
      --text-900: #111827;
      --text-600: #6B7280;
      --border: #E5E7EB;
    }
    html, body { background-color: var(--bg); color: var(--text-900); }
    @media (prefers-color-scheme: dark){
      html, body { background-color: var(--bg) !important; color: var(--text-900) !important; }
    }
    .btn-red { background-color: var(--brand-red); color:#fff; }
    .btn-red:hover { background-color: var(--brand-red-hover); }
    .btn-gray { background-color: var(--brand-gray); color:#fff; }
    .btn-gray:hover { background-color: var(--brand-gray-hover); }
    .brand-card { background-color: var(--card); box-shadow: 0 4px 6px -1px rgba(0,0,0,0.10); border-radius: 0.75rem; }
    .brand-input { background-color: #fff; border:1px solid var(--border); border-radius: 0.5rem; }
    .brand-input:focus { outline: none; border-color: var(--brand-red); box-shadow: 0 0 0 3px rgba(198,40,40,0.15); }
    .brand-label { color: var(--text-600); }
  </style>
</head>
<body class="font-sans antialiased">
  <header class="w-full">
    <nav class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex items-center justify-between">
      <a href="#" class="flex items-center gap-2" aria-label="ShelfAssured Home">
        <span class="text-2xl font-extrabold tracking-tight">
          <span style="color: var(--brand-brown)">Shelf</span><span style="color: var(--brand-gold)">Assured</span>
        </span>
      </a>
      <div class="hidden md:flex items-center gap-6 text-[15px]">
        <a href="#features" class="text-[15px] text-gray-700 hover:text-gray-900">Features</a>
        <a href="#about" class="text-[15px] text-gray-700 hover:text-gray-900">About</a>
        <a href="#contact" class="text-[15px] text-gray-700 hover:text-gray-900">Contact</a>
        <a href="#pilot" class="btn-gray px-4 py-2 rounded-2xl font-medium">Request Pilot Access</a>
      </div>
    </nav>
  </header>

  <section class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-12 pb-16">
    <div class="grid lg:grid-cols-2 gap-10 items-center">
      <div>
        <h1 class="text-4xl sm:text-5xl font-extrabold leading-tight">
          <span>The Shelf You Can't See</span><br/>
          <span style="color: var(--brand-gold)">Is Costing You Sales</span>
        </h1>
        <p class="mt-4 text-base" style="color: var(--text-600)">Emerging brands fight for every inch of shelf space. We're building something to give you the real-time visibility you need to win.</p>
        <div class="mt-8 flex flex-col sm:flex-row gap-4">
          <a href="#pilot" class="btn-red px-6 py-3 rounded-xl text-base font-semibold text-center">Request Pilot Access</a>
          <a href="#features" class="px-6 py-3 rounded-xl border border-gray-300 text-base font-semibold text-gray-900 bg-white hover:bg-gray-50 text-center">Learn More</a>
        </div>
      </div>
      <div class="brand-card p-6">
        <div class="aspect-video w-full rounded-lg bg-white grid place-items-center text-sm text-gray-500">
          Product teaser image / video placeholder
        </div>
      </div>
    </div>
  </section>

  <section id="features" class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-20">
    <div class="grid md:grid-cols-3 gap-6">
      <div class="brand-card p-6">
        <h3 class="text-2xl font-semibold">Real-Time Visibility</h3>
        <p class="mt-2 text-[15px]" style="color: var(--text-600)">Know what's happening on the shelf the moment it happens.</p>
      </div>
      <div class="brand-card p-6">
        <h3 class="text-2xl font-semibold">Competitive Intelligence</h3>
        <p class="mt-2 text-[15px]" style="color: var(--text-600)">See how competitors move and respond, store by store.</p>
      </div>
      <div class="brand-card p-6">
        <h3 class="text-2xl font-semibold">Actionable Alerts</h3>
        <p class="mt-2 text-[15px]" style="color: var(--text-600)">Get signal, not noise — act before sales slip.</p>
      </div>
    </div>
  </section>

  <section id="pilot" class="max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 pb-24">
    <div class="brand-card p-6 sm:p-8">
      <h2 class="text-3xl font-bold">Request Pilot Access</h2>
      <p class="mt-2 text-[15px]" style="color: var(--text-600)">Tell us a bit about your brand so we can qualify pilot fit.</p>

      <form id="pilotForm" class="mt-6 grid grid-cols-1 gap-5" novalidate>
        <input type="text" name="company_website" autocomplete="off" tabindex="-1" class="hidden" aria-hidden="true" />

        <div class="grid sm:grid-cols-2 gap-5">
          <div>
            <label for="name" class="brand-label text-sm">Full Name</label>
            <input id="name" name="name" type="text" required class="brand-input mt-1 w-full px-3 py-2" placeholder="Ada Lovelace" />
          </div>
          <div>
            <label for="email" class="brand-label text-sm">Work Email</label>
            <input id="email" name="email" type="email" required class="brand-input mt-1 w-full px-3 py-2" placeholder="you@company.com" />
          </div>
        </div>

        <div class="grid sm:grid-cols-2 gap-5">
          <div>
            <label for="company" class="brand-label text-sm">Company</label>
            <input id="company" name="company" type="text" required class="brand-input mt-1 w-full px-3 py-2" placeholder="Your Brand Co." />
          </div>
          <div>
            <label for="role" class="brand-label text-sm">Role</label>
            <input id="role" name="role" type="text" required class="brand-input mt-1 w-full px-3 py-2" placeholder="VP of Sales" />
          </div>
        </div>

        <div class="grid sm:grid-cols-2 gap-5">
          <div>
            <label for="phone" class="brand-label text-sm">Phone</label>
            <input id="phone" name="phone" type="tel" inputmode="tel" pattern="[0-9+()\-\s]{7,}" class="brand-input mt-1 w-full px-3 py-2" placeholder="(555) 555-5555" />
          </div>
          <div>
            <label class="brand-label text-sm">Store Count</label>
            <select name="storeCount" required class="brand-input mt-1 w-full px-3 py-2">
              <option value="" disabled selected>Select range</option>
              <option>1-10</option>
              <option>11-50</option>
              <option>51-200</option>
              <option>201-500</option>
              <option>500+</option>
            </select>
          </div>
        </div>

        <div>
          <label class="brand-label text-sm">What's your biggest retail challenge?</label>
          <textarea name="challenge" rows="4" class="brand-input mt-1 w-full px-3 py-2" placeholder="Open-ended insight"></textarea>
        </div>

        <div>
          <fieldset>
            <legend class="brand-label text-sm">Which problem areas fit best?</legend>
            <div class="mt-2 grid sm:grid-cols-2 gap-3">
              <label class="flex items-center gap-2"><input type="checkbox" name="problem" value="OOS / Stockouts" class="rounded"> <span>OOS / Stockouts</span></label>
              <label class="flex items-center gap-2"><input type="checkbox" name="problem" value="Planogram Compliance" class="rounded"> <span>Planogram Compliance</span></label>
              <label class="flex items-center gap-2"><input type="checkbox" name="problem" value="Price Integrity" class="rounded"> <span>Price Integrity</span></label>
              <label class="flex items-center gap-2"><input type="checkbox" name="problem" value="Competitive Monitoring" class="rounded"> <span>Competitive Monitoring</span></label>
              <label class="flex items-center gap-2"><input type="checkbox" name="problem" value="Promo Execution" class="rounded"> <span>Promo Execution</span></label>
              <label class="flex items-center gap-2"><input type="checkbox" name="problem" value="Other" class="rounded"> <span>Other</span></label>
            </div>
          </fieldset>
        </div>

        <div class="flex items-start gap-2">
          <input id="consent" type="checkbox" required class="mt-1" />
          <label for="consent" class="text-sm" style="color: var(--text-600)">I agree to be contacted about pilot access and related updates.</label>
        </div>

        <div class="flex gap-3 pt-2">
          <button type="submit" class="btn-red px-5 py-3 rounded-xl font-semibold">Submit Request</button>
          <button type="reset" class="btn-gray px-5 py-3 rounded-xl font-semibold">Clear</button>
        </div>
        <p id="formMsg" class="mt-3 text-sm" style="color: var(--text-600)"></p>
      </form>
    </div>
  </section>

  <footer class="border-t" style="border-color: var(--border)">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 flex flex-col sm:flex-row items-center justify-between gap-4">
      <p class="text-sm" style="color: var(--text-600)">© <span id="y"></span> ShelfAssured. All rights reserved.</p>
      <div class="flex gap-4 text-sm">
        <a href="#about" class="hover:underline">About</a>
        <a href="#contact" class="hover:underline">Contact</a>
        <a href="#" class="hover:underline">Privacy</a>
      </div>
    </div>
  </footer>

  <!-- Supabase SDK -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2.47.5/dist/umd/supabase.min.js"></script>
  
  <script>
    // Initialize Supabase
    // TODO: Replace with your actual Supabase credentials
    const supabaseUrl = 'https://your-project.supabase.co';
    const supabaseKey = 'your-anon-key';
    const supabase = window.supabase.createClient(supabaseUrl, supabaseKey);
    
    document.getElementById('y').textContent = new Date().getFullYear();
    
    const form = document.getElementById('pilotForm');
    const msg = document.getElementById('formMsg');
    const submitBtn = form.querySelector('button[type="submit"]');
    const resetBtn = form.querySelector('button[type="reset"]');
    
    form.addEventListener('submit', async (e) => {
      e.preventDefault();
      
      // Basic honeypot check
      const honeypot = form.querySelector('[name="company_website"]').value;
      if (honeypot) { return; }
      
      if (!form.checkValidity()) {
        showMessage('Please complete the required fields.', 'error');
        return;
      }
      
      // Show loading state
      setLoadingState(true);
      hideMessage();
      
      try {
        // Collect form data
        const data = new FormData(form);
        const payload = {
          name: data.get('name'),
          email: data.get('email'),
          company: data.get('company'),
          role: data.get('role'),
          phone: data.get('phone'),
          store_count: data.get('storeCount'),
          problem: data.getAll('problem').join(', '),
          biggest_challenge: data.get('challenge'),
          message: data.get('message') || '',
          status: 'new',
          created_at: new Date().toISOString()
        };
        
        // Insert into Supabase
        const { data: result, error } = await supabase
          .from('pilot_leads')
          .insert([payload])
          .select();
        
        if (error) {
          throw error;
        }
        
        // Success!
        showMessage('Thank you! Your pilot access request has been received. We\'ll be in touch within 24 hours.', 'success');
        form.reset();
        
        // Optional: Track conversion
        console.info('[Pilot Request Success]', result);
        
      } catch (error) {
        console.error('[Pilot Request Error]', error);
        showMessage('Sorry, there was an error submitting your request. Please try again or contact us directly.', 'error');
      } finally {
        setLoadingState(false);
      }
    });
    
    function showMessage(text, type) {
      msg.textContent = text;
      msg.style.color = type === 'success' ? 'green' : 'var(--brand-red)';
      msg.style.display = 'block';
      
      // Scroll to message
      msg.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
    }
    
    function hideMessage() {
      msg.style.display = 'none';
    }
    
    function setLoadingState(loading) {
      if (loading) {
        submitBtn.disabled = true;
        submitBtn.textContent = 'Submitting...';
        submitBtn.style.opacity = '0.7';
        resetBtn.disabled = true;
      } else {
        submitBtn.disabled = false;
        submitBtn.textContent = 'Submit Request';
        submitBtn.style.opacity = '1';
        resetBtn.disabled = false;
      }
    }
    
    // Real-time validation
    form.querySelectorAll('input[required], select[required]').forEach(field => {
      field.addEventListener('blur', function() {
        if (this.value.trim()) {
          this.style.borderColor = '#10B981';
        } else {
          this.style.borderColor = '#EF4444';
        }
      });
    });
  </script>
</body>
</html>
